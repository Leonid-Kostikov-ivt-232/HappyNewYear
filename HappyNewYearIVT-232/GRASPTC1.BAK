#include <graphics.h>
#include <conio.h>
#include "GRASPTC1.H"

int X__max, Y__max, foregrcolor, backgrcolor, colorsum;
float x_max = 10.0, y_max = 7.0, horfact, vertfact;

void initgr(void)
{
	int gdriver = DETECT, gmode;
	//initgraph(&gdriver, &gmode, "C:\\TCV3\\BGI");
        initgraph(&gdriver, &gmode, "BGI");
	foregrcolor = getcolor(); backgrcolor = getbkcolor();
	colorsum = foregrcolor + backgrcolor;
	X__max = getmaxx(); Y__max = getmaxy();
	horfact = X__max / x_max; vertfact = Y__max / y_max;
}

int IX(float x)
{
	return (int)(x * horfact + 0.5);
}

int IY(float y)
{
	return (int) Y__max - (int)(y * vertfact + 0.5);
}

void move(float x, float y)
{
	moveto(IX(x), IY(y));
}

void draw(float x, float y)
{
	lineto(IX(x), IY(y));
}

void line_uc(float x1, float y1, float x2, float y2)
{
	line(IX(x1), IY(y1), IX(x2), IY(y2));
}

void endgr(void)
{
	getch();
	closegraph();
}

void invertpixel(int X, int Y)
{
	putpixel(X, Y,colorsum - getpixel(X, Y));
}